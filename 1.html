<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>WAY</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<style>
        body {
    font-size: 16px;
            background: #e0e0e0;
            color: #333;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .container {
            width: 100%;
            max-width: 900px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
            margin: 20px 0;
            position: relative;
        }
        header {
            background: #2e7d52;
            color: white;
            padding: 18px 10px 18px 10px;
            text-align: center;
        }
        .header-icon {
            margin-bottom: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 42px;
            filter: drop-shadow(0 4px 12px #ffd70099);
        }
        h1 { font-size: 27px; margin-bottom: 3px; font-weight: bold;}
        .progress-slider-bar {
            width: 100%;
            margin: 15px 0 10px 0;
            padding: 0 7px;
            display: flex;
            align-items: center;
            gap: 8px;
            position: relative;
            flex-direction: row;
        }
        .slider-labels { width: 28px; text-align: center; color: #2e7d52; font-weight: bold; }
        .slider {
            width: 100%;
            -webkit-appearance: none;
            appearance: none;
            height: 10px;
            background: #e0e0e0;
            border-radius: 7px;
            outline: none;
            position: relative;
            z-index: 1;
            direction: rtl;
        }
        .slider::-webkit-slider-runnable-track {
            height: 10px;
            background: linear-gradient(
                to left,
                #2e7d52 0,
                #2e7d52 var(--progress,0%),
                #e0e0e0 var(--progress,0%),
                #e0e0e0 100%
            );
            border-radius: 7px;
        }
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: #2e7d52;
            border: 2px solid #fff;
            cursor: pointer;
            box-shadow: 0 2px 8px #aaa;
            margin-top: -6px;
            transition: background 0.2s;
            z-index: 2;
            position: relative;
        }
        .slider:focus { outline: none; }
        .slider::-moz-range-thumb {
            width: 22px; height: 22px;
            border-radius: 50%; background: #2e7d52; cursor: pointer; border: 2px solid #fff;
            box-shadow: 0 2px 8px #aaa;
            transition: background 0.2s;
        }
        .slider::-moz-range-track {
            height: 10px;
            background: linear-gradient(
                to left,
                #2e7d52 0,
                #2e7d52 var(--progress,0%),
                #e0e0e0 var(--progress,0%),
                #e0e0e0 100%
            );
            border-radius: 7px;
        }
        .slider::-ms-fill-lower {
            background: #2e7d52;
            border-radius: 7px;
        }
        .slider::-ms-fill-upper {
            background: #e0e0e0;
            border-radius: 7px;
        }
        .slider:focus::-webkit-slider-thumb { outline: none; }
        .slider::-moz-range-progress {
            background-color: #2e7d52;
            height: 10px;
            border-radius: 7px;
        }
        .slider::-ms-fill-lower { background-color: #2e7d52; }
        .slider::-ms-fill-upper { background-color: #e0e0e0; }
        .slider-labels.left, .slider-labels.right { font-size: 13px; }
        .slider:focus { outline: none; box-shadow: none; }
        .subject-selection { padding: 15px; text-align: center;}
        .selection-container {
            display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; margin: 10px 0;
        }
        select {
            padding: 8px 12px; border-radius: 7px; border: 2px solid #2e7d52;
            font-size: 14px; width: 100%; max-width: 230px;
        }
        .start-btn {
            padding: 9px 20px; background: #2e7d52; color: white; border: none;
            border-radius: 7px; cursor: pointer; font-size: 14px; font-weight: bold; transition: all 0.3s;
            margin-top: 12px;
        }
        .start-btn:hover {
            background: #1e5e3b; transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .exam-section { padding: 12px; display: none;}
        .subject-name {
            text-align: center; font-size: 17px; font-weight: bold; color: #2e7d52;
            margin-bottom: 13px; padding: 7px; background: #e8f5e9; border-radius: 7px;
        }
        .progress-text { text-align: center; font-weight: bold; color: #2e7d52; margin-bottom: 7px; font-size: 13px;}
        .question-container {
            margin-bottom: 18px; padding: 13px 12px 12px 12px; border: 2px solid #ddd;
            border-radius: 8px; background: #f9f9f9; position: relative; min-height: 110px;
            display: flex; flex-direction: column; align-items: stretch;
            transition: border-color 0.3s;
        }
        .question-header-bar {
            display: flex; align-items: center; gap: 9px; margin-bottom: 7px; width:100%;
        }
        .star-btn {
            background: none; border: none;
            font-size: 23px; color: #ccc; cursor: pointer; transition: all 0.3s;
            margin: 0 0 0 8px; padding:0;
            order: 2;
        }
        .star-btn .fa-star {
            text-shadow: 0 2px 5px #ffc10777, 0 1px 2px #fff;
        }
        .star-btn.starred,
        .star-btn.starred .fa-star{
            color: #ffc107 !important;
            text-shadow: 0 2px 5px #c6efd9, 0 1px 2px #fff,0 0 8px #ffc107cc;
        }
        .star-btn:hover { color: #ffc107;}
        .info-btn {
            background: none; border: none; font-size: 20px; color: #2e7d52; cursor: pointer;
            margin-right: auto; margin-left: 5px;
        }
        .info-btn:hover { color: #1e5e3b;}
        .question-explanation {
    margin-top: 35px;
            background: #eef7f1; padding: 10px; border-radius: 7px; margin-top: 7px;
            border-right: 4px solid #2e7d52; font-size: 13px; line-height: 1.5; color:#333;
        }
        .question-text {
    font-size: 18px;
            font-size: 15px; color: #2c3e50; font-weight: 500;
            line-height: 1.5; order: 1; flex: 1; padding: 0; margin: 0;
            word-break: break-word;
        }
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 8px;
            min-height: 120px;
            margin-bottom: 5px;
        }
        .option {
    font-size: 14px;
            padding: 9px;
            background: #f8f8f8;
            border: 2px solid #e0e0e0;
            border-radius: 7px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 13px;
        }
        .option:hover { border-color: #2e7d52; background: #f0f8f1;}
        .correct {
            border-color: #4caf50 !important;
            border-width: 4px !important;
            color: #2c3e50;
            background: #f9f9f9 !important;
        }
        .incorrect {
            border-color: #f44336 !important;
            border-width: 4px !important;
            color: #2c3e50;
            background: #f9f9f9 !important;
        }
        .navigation-bar-fixed-top {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 7px;
            background: #fff;
            z-index: 30;
            padding: 7px 0 7px 0;
            margin: 0 -12px 10px -12px;
            border-bottom: 1px solid #e0e0e0;
        }
        .nav-btn {
    padding: 10px 20px;
    font-size: 16px;
    min-width: 80px;
            padding: 5px 13px;
            background: #2e7d52;
            color: white;
            border: none;
            border-radius: 7px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s;
            min-width: 54px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .nav-btn:disabled { background: #cccccc; cursor: not-allowed;}
        .nav-btn:hover:not(:disabled) {
            background: #1e5e3b; transform: translateY(-2px);
        }
        .show-featured-btn {
    padding: 8px 15px;
    font-size: 14px;
            padding: 2px 10px;
            background: #fffbe6;
            color: #d58500;
            border: 1px solid #ffb300;
            border-radius: 7px;
            font-size: 11px;
            cursor: pointer;
            transition: background 0.2s;
            min-width: 0;
            font-weight: 500;
        }
        .show-featured-btn.active {
            background: #ffecb3;
        }
        .show-featured-btn i {
            font-size: 13px;
            margin-left: 3px;
        }
        .home-btn {
            background: none;
            border: none;
            font-size: 1.6rem;
            cursor: pointer;
            padding: 2px 8px;
            color: #2e7d52;
            transition: background 0.2s;
            line-height: 1;
        }
        .home-btn:hover {
            background: #e3f2fd;
            border-radius: 50%;
        }
        .results-section { padding: 25px; text-align: center; display: none;}
        .results-section h2 { color: #2e7d52; margin-bottom: 15px;}
        .score {
            font-size: 36px; font-weight: bold; color: #2e7d52; margin: 16px 0;
        }
        .restart-btn {
            padding: 10px 30px; background: #2e7d52; color: white; border: none;
            border-radius: 7px; cursor: pointer; font-size: 14px; font-weight: bold; transition: all 0.3s;
            margin-top: 22px;
        }
        .restart-btn:hover {
            background: #1e5e3b; transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .shake { animation: shake 0.5s;}
        @keyframes shake {
            0% { transform: translateX(0);}
            20% { transform: translateX(-10px);}
            40% { transform: translateX(10px);}
            60% { transform: translateX(-10px);}
            80% { transform: translateX(10px);}
            100% { transform: translateX(0);}
        }
        .column10-info {
            background: #e8f5e9; padding: 13px; border-radius: 7px; margin: 11px 0;
            border-right: 5px solid #2e7d52; font-size: 13px; line-height: 1.6;
        }
        .bottom-back-btn {
            padding: 8px 16px; background: #2e7d52; color: white; border: none; border-radius: 8px;
            cursor: pointer; font-size: 13px; transition: all 0.3s;
            margin: 14px auto; display: block;
        }
        .bottom-back-btn:hover {
            background: #1e5e3b; transform: translateY(-2px);
        }
        .loading {
            text-align: center; padding: 20px; font-size: 15px; color: #2e7d52;
        }
    
/* نقل زر الشرح (i) إلى أسفل يسار الصندوق */
#info-btn {
    position: absolute;
    bottom: 8px;
    left: 12px;
}
#question-container { position: relative; }

#show-answer-btn {
    position: absolute;
    bottom: 8px;
    right: 12px;
    font-size: 20px;
    color: #2e7d52;
    background: none;
    border: none;
    cursor: pointer;
}
#show-answer-btn:hover {
    color: #1e5e3b;
}


.question-container {
    padding-bottom: 50px; /* مساحة للأزرار أسفل الصندوق */
    position: relative;
}
#info-btn, #show-answer-btn {
    position: absolute;
    bottom: 8px;
}
#info-btn { left: 12px; }
#show-answer-btn { right: 12px; }
.question-explanation {
    margin-top: 10px !important;
    clear: both;
}


.solve-mode-btn {
    background: none;
    border: none;
    font-size: 1.4rem;
    cursor: pointer;
    padding: 2px 8px;
    color: silver;
    transition: color 0.2s;
}
.solve-mode-btn.active {
    color: #4caf50; /* أخضر عند التفعيل */
}
.solve-mode-btn:hover {
    background: #f1f1f1;
    border-radius: 50%;
}

</style>
</head>
<body>
<audio id="click-audio" src="https://cdn.pixabay.com/audio/2022/11/16/audio_12bfa6f1e1.mp3"></audio>
<div class="container">
<header>
<h1>WAY</h1>
</header>
<div class="loading" id="loading">
<i class="fas fa-spinner fa-spin"></i> جاري تحميل بيانات الاختبار...
    </div>
<div class="subject-selection" id="subject-section" style="display: none;">
<h2>اختر المادة:</h2>
<div class="selection-container">
<select id="subject-select"></select>
<select id="column10-info"></select>
<select id="column11-select" style="display:none"></select>
</div>
<button class="start-btn" id="start-btn">بدء الاختبار</button>
</div>
<div class="exam-section" id="exam-section">
<div class="subject-name" id="subject-name"></div>
<div class="progress-text">السؤال <span id="current-q">1</span> من <span id="total-qs">0</span></div>
<div class="progress-slider-bar">
<div class="slider-labels left"><span>1</span></div>
<input class="slider" id="question-slider" max="10" min="1" type="range" value="10"/>
<div class="slider-labels right"><span id="max-question">10</span></div>
</div>
<div class="navigation-bar-fixed-top" id="nav-top-bar">
    <button class="nav-btn" disabled="" id="prev-btn">
        <i class="fa-solid fa-arrow-right"></i> السابق
    </button>
    <button class="nav-btn" id="next-btn">
        التالي <i class="fa-solid fa-arrow-left"></i>
    </button>
    <button class="show-featured-btn" id="show-featured-btn" title="عرض المميزة"><i class="fa-regular fa-star"></i> عرض المميزة</button>
    <button class="solve-mode-btn" id="solve-mode-btn" title="إظهار الحلول"><i class="fa-solid fa-check-double"></i></button>
    <button class="home-btn" id="nav-home-btn" title="الصفحة الرئيسية"><i class="fas fa-home"></i></button>
</div>
<div class="question-container" id="question-container">
<div class="question-header-bar">
<button class="star-btn" id="star-btn" title="تمييز السؤال">
<i class="fa-regular fa-star"></i>
</button>
<div class="question-text" id="question-text"></div>
</div>
<div class="options-container" id="options-container"></div>
<div class="question-explanation" id="question-explanation" style="display:none;"></div>
<button class="info-btn" id="info-btn" title="عرض الشرح"><i class="fa-solid fa-circle-info"></i></button>
<button class="info-btn" id="show-answer-btn" title="إظهار الإجابة الصحيحة"><i class="fa-solid fa-check"></i></button>
</div>
<button class="bottom-back-btn" id="bottom-back-btn" style="display:none">
<i class="fas fa-home"></i> العودة للبداية
        </button>
</div>
<div class="results-section" id="results-section">
<h2>لقد أكملت الاختبار!</h2>
<p>درجتك النهائية هي:</p>
<div class="score" id="score">0/0</div>
<button class="restart-btn" id="restart-btn">إعادة الاختبار</button>
<button class="bottom-back-btn" id="results-back-btn">
<i class="fas fa-home"></i> العودة للبداية
        </button>
</div>
</div>
<script>
// ... نفس السكريبت كما هو بدون تغيير ...
// (استخدم السكريبت الموجود في سؤالك الأصلي بدون أي تعديل، الكود الجافاسكريبت لا يتأثر بتغيير شكل الأزرار فقط)
</script>
</body>
</html>
